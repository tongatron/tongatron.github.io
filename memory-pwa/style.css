:root{--gap:16px;--card-size:80px}

html,body{
  height:100%;
  margin:0;
  overflow:hidden;
  font-family:-apple-system;
  background:#e3e3e3
}

body{display:flex;flex-direction:column}

header{
  position:relative;
  text-align:center;
  padding:14px 10px 6px
}

.topVersion{
  position:absolute;
  top:6px;
  right:10px;
  font-family:"Courier New", monospace;
  font-size:11px;
  color:#555;
}

h1{margin:0;font-size:1.8rem}
#moves,#timer{color:#666;margin-top:2px}

main{
  flex:1;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden
}

.grid{display:grid;gap:var(--gap)}

.card{
  width:var(--card-size);
  aspect-ratio:1;
  perspective:800px;
  cursor:pointer
}

.inner{
  width:100%;
  height:100%;
  transform-style:preserve-3d;
  transition:.4s;
  position:relative
}

.card.flipped .inner{transform:rotateY(180deg)}

.face{
  position:absolute;
  inset:0;
  border-radius:14px;
  background:white;
  display:flex;
  align-items:center;
  justify-content:center;
  backface-visibility:hidden;
  box-shadow:0 5px 14px rgba(0,0,0,.08)
}

.back{
  transform:rotateY(180deg);
  font-size:clamp(26px,5vw,48px)
}

footer{
  background:#fff;
  border-top:1px solid #ddd;
  padding:10px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:8px;
  position:relative;
}

.version{
  position:absolute;
  right:10px;
  bottom:6px;
  font-size:12px;
  color:#666;
}

button.active[data-total]{background:#d1d1d1;color:#111;}

button{
  border:none;
  background:#e9e9ef;
  border-radius:18px;
  padding:8px 12px;
  font-weight:600;
  cursor:pointer
}

button#newGameBtn{
  background:#007aff;
  color:white;
}

button:active{transform:scale(.95)}

.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  display:none;
  align-items:center;
  justify-content:center
}

.box{
  background:white;
  border-radius:16px;
  padding:18px;
  width:min(90vw,360px);
  text-align:center
}

.actions{
  display:flex;
  justify-content:space-between;
  margin-top:10px
}

#updateBtn{
  display:none;
  position:fixed;
  bottom:70px;
  right:20px;
  padding:10px 14px;
  background:#ff9800;
  color:white;
  border:none;
  border-radius:6px;
  font-size:14px;
  z-index:9999;
  box-shadow:0 2px 8px rgba(0,0,0,.3);
}
