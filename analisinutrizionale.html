<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>analisi nutrizionale</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <!-- Bootstrap icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- Personal stylesheet -->
  <link rel="stylesheet" href="tngstyle.css">

  <!-- Google fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">

  <style>
    .list-group-item {
      cursor: pointer;
    }
    .highlight {
      background-color: yellow;
    }
  </style>
</head>
<body>

<div class="container py-4">
  <header class="pb-3 mb-4 border-bottom">
    <a href="/" class="d-flex align-items-center text-body-emphasis text-decoration-none">



<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-egg-fried" viewBox="0 0 16 16">
  <path d="M8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
  <path d="M13.997 5.17a5 5 0 0 0-8.101-4.09A5 5 0 0 0 1.28 9.342a5 5 0 0 0 8.336 5.109 3.5 3.5 0 0 0 5.201-4.065 3.001 3.001 0 0 0-.822-5.216zm-1-.034a1 1 0 0 0 .668.977 2.001 2.001 0 0 1 .547 3.478 1 1 0 0 0-.341 1.113 2.5 2.5 0 0 1-3.715 2.905 1 1 0 0 0-1.262.152 4 4 0 0 1-6.67-4.087 1 1 0 0 0-.2-1 4 4 0 0 1 3.693-6.61 1 1 0 0 0 .8-.2 4 4 0 0 1 6.48 3.273z"/>
</svg>

      <span class="fs-2"> analisi nutrizionale</span>
    </a>
  </header>
</div>

<!-- Main -->
<div class="container">
  <div class="row justify-content-md-left">
    <div class="col col-lg-12">



        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-balloon-fill" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M8.48 10.901C11.211 10.227 13 7.837 13 5A5 5 0 0 0 3 5c0 2.837 1.789 5.227 4.52 5.901l-.244.487a.25.25 0 1 0 .448.224l.04-.08c.009.17.024.315.051.45.068.344.208.622.448 1.102l.013.028c.212.422.182.85.05 1.246-.135.402-.366.751-.534 1.003a.25.25 0 0 0 .416.278l.004-.007c.166-.248.431-.646.588-1.115.16-.479.212-1.051-.076-1.629-.258-.515-.365-.732-.419-1.004a2 2 0 0 1-.037-.289l.008.017a.25.25 0 1 0 .448-.224zM4.352 3.356a4 4 0 0 1 3.15-2.325C7.774.997 8 1.224 8 1.5s-.226.496-.498.542c-.95.162-1.749.78-2.173 1.617a.6.6 0 0 1-.52.341c-.346 0-.599-.329-.457-.644"/>
        </svg>

        <a href="https://tongatron.github.io/"> tongatron.github.io</a>

        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-telegram" viewBox="0 0 16 16">
          <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.287 5.906q-1.168.486-4.666 2.01-.567.225-.595.442c-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294q.39.01.868-.32 3.269-2.206 3.374-2.23c.05-.012.12-.026.166.016s.042.12.037.141c-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8 8 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629q.14.092.27.187c.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.4 1.4 0 0 0-.013-.315.34.34 0 0 0-.114-.217.53.53 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09"/>
        </svg>
        <a href="https://t.me/giobindi">scrivimi su Telegram</a>

        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-cup-hot-fill" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6zM13 12.5a2 2 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5"/>
          <path d="m4.4.8-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 3.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 6.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 9.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8"/>
        </svg>
        <a href="https://buymeacoffee.com/tongatron"> buy me a coffee</a>


      </p>



    </div>
  </div>
</div>


<div class="container-dayan">

    <div class="container mt-5">
        <br>
        <div class="row">

            <div class="col-md-6">

                

                <h2>

                  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-cup-straw" viewBox="0 0 16 16">
                  <path d="M13.902.334a.5.5 0 0 1-.28.65l-2.254.902-.4 1.927c.376.095.715.215.972.367.228.135.56.396.56.82q0 .069-.011.132l-.962 9.068a1.28 1.28 0 0 1-.524.93c-.488.34-1.494.87-3.01.87s-2.522-.53-3.01-.87a1.28 1.28 0 0 1-.524-.93L3.51 5.132A1 1 0 0 1 3.5 5c0-.424.332-.685.56-.82.262-.154.607-.276.99-.372C5.824 3.614 6.867 3.5 8 3.5c.712 0 1.389.045 1.985.127l.464-2.215a.5.5 0 0 1 .303-.356l2.5-1a.5.5 0 0 1 .65.278M9.768 4.607A14 14 0 0 0 8 4.5c-1.076 0-2.033.11-2.707.278A3.3 3.3 0 0 0 4.645 5c.146.073.362.15.648.222C5.967 5.39 6.924 5.5 8 5.5c.571 0 1.109-.03 1.588-.085zm.292 1.756C9.445 6.45 8.742 6.5 8 6.5c-1.133 0-2.176-.114-2.95-.308a6 6 0 0 1-.435-.127l.838 8.03c.013.121.06.186.102.215.357.249 1.168.69 2.438.69s2.081-.441 2.438-.69c.042-.029.09-.094.102-.215l.852-8.03a6 6 0 0 1-.435.127 9 9 0 0 1-.89.17zM4.467 4.884s.003.002.005.006zm7.066 0-.005.006zM11.354 5a3 3 0 0 0-.604-.21l-.099.445.055-.013c.286-.072.502-.149.648-.222"/>
                </svg>

                seleziona drink</h2>
                <br>
                <div class="form-group">
                    <select id="drinkSelect" class="form-control">
                        <option value="Birra media bionda" data-tipo="drink" data-gradazione="5%" data-calorie="150" data-costo="5">Birra media bionda - 5€</option>
                        <option value="Birra media rossa" data-tipo="drink" data-gradazione="6%" data-calorie="170" data-costo="5">Birra media rossa - 5€</option>
                        <option value="Birra Moretti da 66" data-tipo="drink" data-gradazione="4.6%" data-calorie="220" data-costo="1.5">Birra Moretti da 66 - 1.5€</option>
                        <option value="Gin Tonic" data-tipo="drink" data-gradazione="10%" data-calorie="200" data-costo="7">Gin Tonic - 7€</option>
                        <option value="Bottiglia di vino" data-tipo="drink" data-gradazione="12%" data-calorie="600" data-costo="14">Bottiglia di vino - 14€</option>
                        <option value="Calice di vino" data-tipo="drink" data-gradazione="12%" data-calorie="120" data-costo="3">Calice di vino - 3€</option>
                        <option value="Spritz Campari" data-tipo="drink" data-gradazione="8%" data-calorie="150" data-costo="3">Spritz Campari - 3€</option>
                        <option value="Crodino" data-tipo="drink" data-gradazione="0%" data-calorie="152.5" data-carbs="37.5" data-sugars="37.5" data-protein="0" data-fat="0" data-costo="2.5">Crodino - 2.5€</option>
                        <option value="Red Bull" data-tipo="drink" data-gradazione="0%" data-calorie="112.5" data-carbs="28" data-sugars="27" data-protein="1" data-fat="0" data-costo="2.5">Red Bull - 2.5€</option>
                        <option value="Corona" data-tipo="drink" data-gradazione="4.6%" data-calorie="140" data-carbs="13.1" data-sugars="0" data-protein="1" data-fat="0" data-costo="3">Corona - 3€</option>
                        <option value="Birra Peroni" data-tipo="drink" data-gradazione="4.7%" data-calorie="257.4" data-carbs="23.4" data-sugars="0" data-protein="2" data-fat="0" data-costo="2.5">Birra Peroni - 2.5€</option>
                    </select>
                </div>

                <br>
                <button id="addDrinkButton" class="btn btn-success">Aggiungi</button>
                <button id="clearAllDrinksButton" class="btn btn-outline-danger">Cancella Tutto</button>
            </div>
            <div class="col-md-6">
                <h2>
                  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-egg-fried" viewBox="0 0 16 16">
                    <path d="M8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                    <path d="M13.997 5.17a5 5 0 0 0-8.101-4.09A5 5 0 0 0 1.28 9.342a5 5 0 0 0 8.336 5.109 3.5 3.5 0 0 0 5.201-4.065 3.001 3.001 0 0 0-.822-5.216zm-1-.034a1 1 0 0 0 .668.977 2.001 2.001 0 0 1 .547 3.478 1 1 0 0 0-.341 1.113 2.5 2.5 0 0 1-3.715 2.905 1 1 0 0 0-1.262.152 4 4 0 0 1-6.67-4.087 1 1 0 0 0-.2-1 4 4 0 0 1 3.693-6.61 1 1 0 0 0 .8-.2 4 4 0 0 1 6.48 3.273z"/>
                  </svg>
                seleziona cibo</h2>
                <br>
                <div class="form-group">
                    <select id="foodSelect" class="form-control">
                        <option value="Pizza" data-tipo="food" data-calorie="834" data-carbs="97" data-sugars="6" data-protein="37" data-fat="27" data-saturatedfat="10" data-sodium="1120" data-fiber="6" data-costo="7">Pizza - 7€</option>
                        <option value="Bastoncino Findus" data-tipo="food" data-calorie="210" data-carbs="21" data-sugars="1" data-protein="12" data-fat="9" data-saturatedfat="1" data-sodium="400" data-fiber="1" data-costo="2.5">Bastoncino Findus - 2.5€</option>
                        <option value="Uovo" data-tipo="food" data-calorie="68" data-carbs="1" data-sugars="1" data-protein="6" data-fat="5" data-saturatedfat="1.6" data-sodium="62" data-fiber="0" data-costo="0.5">Uovo - 0.5€</option>
                        <option value="Pasta al pesto" data-tipo="food" data-calorie="360" data-carbs="40" data-sugars="3" data-protein="12" data-fat="18" data-saturatedfat="3" data-sodium="550" data-fiber="2" data-costo="3.5">Pasta al pesto - 3.5€</option>
                        <option value="Tramezzino con Philadelphia" data-tipo="food" data-calorie="250" data-carbs="30" data-sugars="3" data-protein="8" data-fat="10" data-saturatedfat="5" data-sodium="450" data-fiber="2" data-costo="2">Tramezzino con Philadelphia - 2€</option>
                    </select>
                </div>
                <br>
                <button id="addFoodButton" class="btn btn-success">Aggiungi</button>
                <button id="clearAllFoodsButton" class="btn btn-outline-danger">Cancella Tutto</button>
            </div>
        </div>

        <hr>
        
        <div class="row mt-5">
            <div class="col-md-6">
                
                <ul id="dailyDrinks" class="list-group"></ul>
            </div>
            <div class="col-md-6">
                
                <ul id="dailyFoods" class="list-group"></ul>
            </div>
        </div>
        
        <h2 class="mt-5">Informazioni</h2>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Elemento</th>
                    <th>Tipo</th>
                    <th>Calorie</th>
                    <th>Carboidrati</th>
                    <th>Zuccheri</th>
                    <th>Proteine</th>
                    <th>Grassi</th>
                    <th>Quantità</th>
                    <th>Calorie Totali</th>
                    <th>Costo Unitario</th>
                    <th>Costo Totale</th>
                </tr>
            </thead>
            <tbody id="nutritionalInfo">
            </tbody>
        </table>
        
        <h3 id="totalDrinkCalories" class="mt-3">Calorie drink: </h3>
        <h3 id="totalFoodCalories" class="mt-3">Calorie cibo: </h3>
        <h3 id="totalCalories" class="mt-3">Calorie Totali: </h3>
        <h3 id="totalCost" class="mt-3">Costo Totale: </h3>
        
        <button id="analysisButton" class="btn btn btn-light mt-3">

<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-piggy-bank" viewBox="0 0 16 16">
  <path d="M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.138-1.496A6.6 6.6 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 0 0 .286-.958A7.6 7.6 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962"/>
  <path fill-rule="evenodd" d="M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069q0-.218-.02-.431c.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a1 1 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.74.74 0 0 0-.375.562c-.024.243.082.48.32.654a2 2 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595M2.516 6.26c.455-2.066 2.667-3.733 5.448-3.733 3.146 0 5.536 2.114 5.536 4.542 0 1.254-.624 2.41-1.67 3.248a.5.5 0 0 0-.165.535l.66 2.175h-.985l-.59-1.487a.5.5 0 0 0-.629-.288c-.661.23-1.39.359-2.157.359a6.6 6.6 0 0 1-2.157-.359.5.5 0 0 0-.635.304l-.525 1.471h-.979l.633-2.15a.5.5 0 0 0-.17-.534 4.65 4.65 0 0 1-1.284-1.541.5.5 0 0 0-.446-.275h-.56a.5.5 0 0 1-.492-.414l-.254-1.46h.933a.5.5 0 0 0 .488-.393m12.621-.857a.6.6 0 0 1-.098.21l-.044-.025c-.146-.09-.157-.175-.152-.223a.24.24 0 0 1 .117-.173c.049-.027.08-.021.113.012a.2.2 0 0 1 .064.199"/>
</svg>

        costi e calorie</button>
        <br>
        <button id="generateChartButton" class="btn btn-success mt-3">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard2-data" viewBox="0 0 16 16">
                <path d="M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5z"></path>
                <path d="M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5z"></path>
                <path d="M10 7a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0zm-6 4a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0zm4-3a1 1 0 0 0-1 1v3a1 1 0 1 0 2 0V9a1 1 0 0 0-1-1"></path>
              </svg>
             grafico nutrizionale</button>
        <br><br>

        
        

        <div id="analysisSection" style="display: none;">
            <hr>
            <h2>paragona calorie dei drink</h2>
            <p>ovvero cosa potresi mangiare se bevessi acqua</p>
            <div class="form-group">
                <select id="comparisonSelect" class="form-control">
                    <option value="pizza" data-calorie="800">Pizze Margherita (800 kcal)</option>
                    <option value="macbacon" data-calorie="600">MacBacon (600 kcal)</option>
                    <option value="pasta" data-calorie="350">Pasta al ragù 100g (350 kcal)</option>
                </select>
            </div>
            <br>
            <button id="compareButton" class="btn btn-secondary">Paragona</button>
            <h3 id="comparisonResult" class="mt-3"></h3>
            <hr>

            <h2 class="mt-5">Costi totali</h2>
            <h3 id="weeklyCost">settimanale: 0€</h3>
            <h3 id="monthlyCost">mensile: 0€</h3>
            <h3 id="yearlyCost">annuali: 0€</h3>
            <hr>
        </div>

        
    </div>

</div>

<div class="container">
    <div class="row">
        <div class="col">

        <canvas id="chartCanvas" class="mt-3"></canvas>

        </div>
    </div>
</div>



    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        $(document).ready(function() {
            var drinks = {};
            var foods = {};

            const dailyRecommendedValues = {
                calories: 2500,
                carbs: 300,
                sugars: 36,
                protein: 56,
                fat: 70
            };

            $("#addDrinkButton").click(function() {
                var selectedOption = $("#drinkSelect option:selected");
                var drinkName = selectedOption.val();
                var gradazione = selectedOption.data("gradazione");
                var calorie = selectedOption.data("calorie");
                var carbs = selectedOption.data("carbs");
                var sugars = selectedOption.data("sugars");
                var protein = selectedOption.data("protein");
                var fat = selectedOption.data("fat");
                var costo = selectedOption.data("costo");

                if (!drinks[drinkName]) {
                    drinks[drinkName] = {
                        quantity: 0,
                        gradazione: gradazione,
                        calorie: calorie,
                        carbs: carbs,
                        sugars: sugars,
                        protein: protein,
                        fat: fat,
                        costo: costo
                    };
                }

                drinks[drinkName].quantity += 1;
                updateDailyDrinks();
                updateNutritionalInfo();
                updateTotalValues();
            });

            $("#addFoodButton").click(function() {
                var selectedOption = $("#foodSelect option:selected");
                var foodName = selectedOption.val();
                var calorie = selectedOption.data("calorie");
                var carbs = selectedOption.data("carbs");
                var sugars = selectedOption.data("sugars");
                var protein = selectedOption.data("protein");
                var fat = selectedOption.data("fat");
                var saturatedFat = selectedOption.data("saturatedfat");
                var sodium = selectedOption.data("sodium");
                var fiber = selectedOption.data("fiber");
                var costo = selectedOption.data("costo");

                if (!foods[foodName]) {
                    foods[foodName] = {
                        quantity: 0,
                        calorie: calorie,
                        carbs: carbs,
                        sugars: sugars,
                        protein: protein,
                        fat: fat,
                        saturatedFat: saturatedFat,
                        sodium: sodium,
                        fiber: fiber,
                        costo: costo
                    };
                }

                foods[foodName].quantity += 1;
                updateDailyFoods();
                updateNutritionalInfo();
                updateTotalValues();
            });

            $("#clearAllDrinksButton").click(function() {
                drinks = {};
                updateDailyDrinks();
                updateNutritionalInfo();
                updateTotalValues();
            });

            $("#clearAllFoodsButton").click(function() {
                foods = {};
                updateDailyFoods();
                updateNutritionalInfo();
                updateTotalValues();
            });

            $("#analysisButton").click(function() {
                $("#analysisSection").toggle();
            });

            $("#compareButton").click(function() {
                var selectedOption = $("#comparisonSelect option:selected");
                var comparisonCalories = selectedOption.data("calorie");
                var totalDrinkCalories = calculateTotalCalories('drink');
                var comparisonResult = totalDrinkCalories / comparisonCalories;

                $("#comparisonResult").text("Equivalente a: " + comparisonResult.toFixed(2) + " " + selectedOption.text());
            });

            $("#generateChartButton").click(function() {
                var ctx = $("#chartCanvas");
                var labels = ["Calories", "Carbohydrates", "Sugars", "Protein", "Fat"];
                var totalDrinkValues = calculateTotalNutrients('drink');
                var totalFoodValues = calculateTotalNutrients('food');
                var totalValues = {
                    calories: totalDrinkValues.calories + totalFoodValues.calories,
                    carbs: totalDrinkValues.carbs + totalFoodValues.carbs,
                    sugars: totalDrinkValues.sugars + totalFoodValues.sugars,
                    protein: totalDrinkValues.protein + totalFoodValues.protein,
                    fat: totalDrinkValues.fat + totalFoodValues.fat
                };

                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Valori nutrizionali assunti - Drink',
                            data: [totalDrinkValues.calories, totalDrinkValues.carbs, totalDrinkValues.sugars, totalDrinkValues.protein, totalDrinkValues.fat],
                            backgroundColor: 'rgba(54, 162, 235, 0.2)',
                            borderColor: 'rgba(54, 162, 235, 1)',
                            borderWidth: 1
                        }, {
                            label: 'Valori nutrizionali assunti - Food',
                            data: [totalFoodValues.calories, totalFoodValues.carbs, totalFoodValues.sugars, totalFoodValues.protein, totalFoodValues.fat],
                            backgroundColor: 'rgba(255, 99, 132, 0.2)',
                            borderColor: 'rgba(255, 99, 132, 1)',
                            borderWidth: 1
                        }, {
                            label: 'Valori nutrizionali giornalieri raccomandati',
                            data: [dailyRecommendedValues.calories, dailyRecommendedValues.carbs, dailyRecommendedValues.sugars, dailyRecommendedValues.protein, dailyRecommendedValues.fat],
                            backgroundColor: 'rgba(75, 192, 192, 0.2)',
                            borderColor: 'rgba(75, 192, 192, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            });

            function updateDailyDrinks() {
                var $dailyDrinks = $("#dailyDrinks");
                $dailyDrinks.empty();

                $.each(drinks, function(name, info) {
                    $dailyDrinks.append('<li class="list-group-item">' + name + ' - Quantità: ' + info.quantity + 
                    ' <button class="btn btn-sm btn-danger ml-2" onclick="decreaseQuantity(\'drink\', \'' + name + '\')">-</button> ' + 
                    ' <button class="btn btn-sm btn-success ml-2" onclick="increaseQuantity(\'drink\', \'' + name + '\')">+</button></li>');
                });
            }

            function updateDailyFoods() {
                var $dailyFoods = $("#dailyFoods");
                $dailyFoods.empty();

                $.each(foods, function(name, info) {
                    $dailyFoods.append('<li class="list-group-item">' + name + ' - Quantità: ' + info.quantity + 
                    ' <button class="btn btn-sm btn-danger ml-2" onclick="decreaseQuantity(\'food\', \'' + name + '\')">-</button> ' + 
                    ' <button class="btn btn-sm btn-success ml-2" onclick="increaseQuantity(\'food\', \'' + name + '\')">+</button></li>');
                });
            }

            window.decreaseQuantity = function(type, name) {
                if (type === 'drink' && drinks[name].quantity > 0) {
                    drinks[name].quantity -= 1;
                    if (drinks[name].quantity === 0) {
                        delete drinks[name];
                    }
                    updateDailyDrinks();
                } else if (type === 'food' && foods[name].quantity > 0) {
                    foods[name].quantity -= 1;
                    if (foods[name].quantity === 0) {
                        delete foods[name];
                    }
                    updateDailyFoods();
                }
                updateNutritionalInfo();
                updateTotalValues();
            };

            window.increaseQuantity = function(type, name) {
                if (type === 'drink') {
                    drinks[name].quantity += 1;
                    updateDailyDrinks();
                } else if (type === 'food') {
                    foods[name].quantity += 1;
                    updateDailyFoods();
                }
                updateNutritionalInfo();
                updateTotalValues();
            };

            function updateNutritionalInfo() {
                var $nutritionalInfo = $("#nutritionalInfo");
                $nutritionalInfo.empty();

                $.each(drinks, function(name, info) {
                    var totalCalories = info.calorie * info.quantity;
                    var totalCost = info.costo * info.quantity;

                    $nutritionalInfo.append('<tr><td>' + name + '</td><td>Drink</td><td>' + info.calorie + '</td><td>' + (info.carbs || 0) + '</td><td>' + (info.sugars || 0) + '</td><td>' + (info.protein || 0) + '</td><td>' + (info.fat || 0) + '</td><td>' + info.quantity + '</td><td>' + totalCalories + '</td><td>' + info.costo + '€</td><td>' + totalCost + '€</td></tr>');
                });

                $.each(foods, function(name, info) {
                    var totalCalories = info.calorie * info.quantity;
                    var totalCost = info.costo * info.quantity;

                    $nutritionalInfo.append('<tr><td>' + name + '</td><td>Food</td><td>' + info.calorie + '</td><td>' + (info.carbs || 0) + '</td><td>' + (info.sugars || 0) + '</td><td>' + (info.protein || 0) + '</td><td>' + (info.fat || 0) + '</td><td>' + info.quantity + '</td><td>' + totalCalories + '</td><td>' + info.costo + '€</td><td>' + totalCost + '€</td></tr>');
                });
            }

            function updateTotalValues() {
                var totalDrinkCalories = calculateTotalCalories('drink');
                var totalFoodCalories = calculateTotalCalories('food');
                var totalCost = calculateTotalCost();

                $("#totalDrinkCalories").text("calorie bevande: " + totalDrinkCalories);
                $("#totalFoodCalories").text("calorie cibo: " + totalFoodCalories);
                $("#totalCalories").text("calorie totali: " + (totalDrinkCalories + totalFoodCalories));
                $("#totalCost").text("costo totale: " + totalCost + "€");

                $("#weeklyCost").text("settimanale: " + (totalCost * 7) + "€");
                $("#monthlyCost").text("mensile: " + (totalCost * 30) + "€");
                $("#yearlyCost").text("annuale: " + (totalCost * 365) + "€");
            }

            function calculateTotalCalories(type) {
                var totalCalories = 0;

                if (type === 'drink') {
                    $.each(drinks, function(name, info) {
                        totalCalories += info.calorie * info.quantity;
                    });
                } else if (type === 'food') {
                    $.each(foods, function(name, info) {
                        totalCalories += info.calorie * info.quantity;
                    });
                } else {
                    $.each(drinks, function(name, info) {
                        totalCalories += info.calorie * info.quantity;
                    });
                    $.each(foods, function(name, info) {
                        totalCalories += info.calorie * info.quantity;
                    });
                }

                return totalCalories;
            }

            function calculateTotalCost() {
                var totalCost = 0;

                $.each(drinks, function(name, info) {
                    totalCost += info.costo * info.quantity;
                });

                $.each(foods, function(name, info) {
                    totalCost += info.costo * info.quantity;
                });

                return totalCost;
            }

            function calculateTotalNutrients(type) {
                var totalValues = {
                    calories: 0,
                    carbs: 0,
                    sugars: 0,
                    protein: 0,
                    fat: 0
                };

                if (type === 'drink') {
                    $.each(drinks, function(name, info) {
                        totalValues.calories += info.calorie * info.quantity;
                        totalValues.carbs += (info.carbs || 0) * info.quantity;
                        totalValues.sugars += (info.sugars || 0) * info.quantity;
                        totalValues.protein += (info.protein || 0) * info.quantity;
                        totalValues.fat += (info.fat || 0) * info.quantity;
                    });
                } else if (type === 'food') {
                    $.each(foods, function(name, info) {
                        totalValues.calories += info.calorie * info.quantity;
                        totalValues.carbs += (info.carbs || 0) * info.quantity;
                        totalValues.sugars += (info.sugars || 0) * info.quantity;
                        totalValues.protein += (info.protein || 0) * info.quantity;
                        totalValues.fat += (info.fat || 0) * info.quantity;
                    });
                }

                return totalValues;
            }
        });
    </script>

<script src="htt
ps://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

</body>
</html>